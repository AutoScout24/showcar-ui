{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/amp-extend/extend.js","webpack:///./node_modules/amp-index-of/index-of.js","webpack:///./node_modules/amp-is-date/is-date.js","webpack:///./node_modules/amp-is-number/is-number.js","webpack:///./node_modules/amp-is-object/is-object.js","webpack:///./node_modules/amp-merge/merge.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/showcar-tracking/src/cookieHelper.js","webpack:///./node_modules/showcar-tracking/src/dealer-gtm.js","webpack:///./node_modules/showcar-tracking/src/gtm/campaign/cookie.js","webpack:///./node_modules/showcar-tracking/src/gtm/campaign/index.js","webpack:///./node_modules/showcar-tracking/src/gtm/campaign/utm.js","webpack:///./node_modules/showcar-tracking/src/gtm/getGtmContainerId.js","webpack:///./node_modules/showcar-tracking/src/gtm/googletagmanager.js","webpack:///./node_modules/showcar-tracking/src/gtm/index.js","webpack:///./node_modules/showcar-tracking/src/gtm/viewport.js","webpack:///./node_modules/showcar-tracking/src/index.js","webpack:///./node_modules/showcar-tracking/src/trackingElement.js","webpack:///./src/js/showcar-tracking.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isObject","require","obj","source","prop","length","arguments","isNumber","arr","item","from","Math","max","toString","type","extend","args","slice","unshift","apply","this","qs","sep","eq","options","regexp","split","maxKeys","len","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","isArray","push","Array","xs","stringifyPrimitive","isFinite","undefined","map","objectKeys","ks","encodeURIComponent","join","f","res","keys","decode","parse","encode","stringify","doc","document","read","decodingFunction","cookie","RegExp","set","test","expiresString","expires","date","Date","setTime","toGMTString","encodingFunction","domain","path","secure","remove","hasCookie","currentVehicles","add","data","commit","window","dataLayer","list_productidsall","cookies","isValidDate","utm","now","content","firstVisit","currentVisit","lastPaidVisit","isValid","getGtmData","ret","campaign_directMedium","campaign_directSource","campaign_directCampaign","cAge","campaign_lastPaidMedium","campaign_lastPaidSource","campaign_lastPaidCampaign","updateCurrentVisit","utmParams","getParameters","location","search","medium","campaign","isPaidChannel","rawValue","substring","part","parts","parseInt","ex","write","hostname","formattedValue","gtm","cookieHandler","updateCampaignCookie","campaignCookie","locationSearch","queryParams","gclid","utm_medium","utm_source","utm_campaign","containerIdsByTld","tld","pop","useNewArrayLogic","href","toLower","val","toLowerCase","loadContainer","containerId","documentElement","className","w","getTime","event","getElementsByTagName","j","createElement","async","src","parentNode","insertBefore","pagename","merge","viewport","generateCommonParams","mergedPagename","country","market","category","pageid","environment","Error","JSON","commonPageName","group","filter","layer","common_country","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event_category","event_action","event_label","eventlabel","event_non_interaction","firstPageview","setPagename","pn","pageview","setTimeout","click","viewportWidth","min","clientWidth","innerWidth","screen","width","session_viewport","hash","processCommand","fn","dealerGtm","ut","forEach","as24tracking","assign","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","values","getAdditionalProperties","getAttribute","splice","clickTarget","elements","querySelectorAll","addEventListener","track","trackingValue","attributes","element","nodeName","reduce","prev","curr","decodeAttributeName","nodeValue","attrName","g","toUpperCase","console","log","ctor","constructor","HTMLUnknownElement","registerElement","e","warn"],"mappings":"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","file":"showcar-tracking.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/showcar-tracking.js\");\n","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n","var isNumber = require('amp-is-number');\n\n\nmodule.exports = function indexOf(arr, item, from) {\n    var i = 0;\n    var l = arr && arr.length;\n    if (isNumber(from)) {\n        i = from < 0 ? Math.max(0, l + from) : from;\n    }\n    for (; i < l; i++) {\n        if (arr[i] === item) return i;\n    }\n    return -1;\n};\n","var toString = Object.prototype.toString;\n\n\nmodule.exports = function isFunction(obj) {\n    return toString.call(obj) === '[object Date]';\n};\n","var toString = Object.prototype.toString;\n\n\nmodule.exports = function isNumber(obj) {\n    return toString.call(obj) === '[object Number]';\n};\n","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","var doc = document;\r\n\r\nfunction readCookie(name, options) {\r\n    if (!name) { return null; }\r\n\r\n    var decodingFunction = (options && options.decodingFunction) || decodeURIComponent;\r\n\r\n    return decodingFunction(doc.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\r\n}\r\n\r\nfunction setCookie(name, value, options) {\r\n    if (!name || /^(?:expires|max\\-age|path|domain|secure)$/i.test(name)) { return false; }\r\n\r\n    var expiresString = \"\";\r\n\r\n    if (options.expires) {\r\n        var date = new Date();\r\n        date.setTime(+date + options.expires);\r\n        expiresString = \"; expires=\" + date.toGMTString();\r\n    }\r\n\r\n    options.encodingFunction = options.encodingFunction || encodeURIComponent;\r\n\r\n    document.cookie = encodeURIComponent(name) + \"=\" + options.encodingFunction(value) + expiresString + (options.domain ? \"; domain=\" + options.domain : \"\") + (options.path ? \"; path=\" + options.path : \"\") + (options.secure ? \"; secure\" : \"\");\r\n\r\n    return true;\r\n}\r\n\r\nfunction removeCookie(name, options) {\r\n    if (hasCookie(name)) { return false; }\r\n    document.cookie = encodeURIComponent(name) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (name ? \"; domain=\" + options.domain : \"\") + (options.path ? \"; path=\" + options.path : \"\");\r\n    return true;\r\n}\r\n\r\nfunction hasCookie(name) {\r\n    if (!name) { return false; }\r\n    return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\r\n}\r\n\r\nmodule.exports = {\r\n    read: readCookie,\r\n    set: setCookie,\r\n    remove: removeCookie\r\n};\r\n","var currentVehicles = [];\r\n\r\nfunction add(data) {\r\n    currentVehicles.push(data);\r\n}\r\n\r\nfunction commit() {\r\n    window.dataLayer = window.dataLayer || [];\r\n    window.dataLayer.push({\r\n        list_productidsall: currentVehicles\r\n    });\r\n\r\n    currentVehicles = [];\r\n}\r\n\r\nmodule.exports = {\r\n    add: add,\r\n    commit: commit\r\n};\r\n","var cookies = require('../../cookieHelper');\r\nvar isValidDate = require('amp-is-date');\r\n\r\nvar utm = require('./utm');\r\n\r\nvar cAge = 90;\r\nvar oneDay = 24 * 60 * 60 * 1000;\r\n\r\nfunction readCookie(name) {\r\n    // format of the cookie:\r\n    // timeStamp(no separator here)firstVisit#lastPaidCampaign#currentVisit\r\n    // cookieDate(0-13)medium,source,campaign,timestamp#medium,source,campaign,timestamp#medium,source,campaign,timestamp\r\n\r\n    var now = +new Date();\r\n\r\n    var cookie = {\r\n        name: name,\r\n        date: new Date(0),\r\n        content: [],\r\n\r\n        firstVisit: null,\r\n        currentVisit: null,\r\n        lastPaidVisit: null,\r\n\r\n        isValid: function() {\r\n            return isValidDate(this.date) && this.content && this.content.length === 3;\r\n        },\r\n        getGtmData: function() {\r\n            var ret = {};\r\n            ret.campaign_directMedium = this.currentVisit[0];\r\n            ret.campaign_directSource = this.currentVisit[1];\r\n            ret.campaign_directCampaign = this.currentVisit[2];\r\n\r\n            if (this.lastPaidVisit && this.lastPaidVisit[3] > now - cAge * oneDay) {\r\n                ret.campaign_lastPaidMedium = this.lastPaidVisit[0];\r\n                ret.campaign_lastPaidSource = this.lastPaidVisit[1];\r\n                ret.campaign_lastPaidCampaign = this.lastPaidVisit[2];\r\n            }\r\n\r\n            return ret;\r\n        },\r\n\r\n        updateCurrentVisit: function() {\r\n            var utmParams = utm.getParameters(location.search);\r\n            this.currentVisit = [utmParams.medium, utmParams.source, utmParams.campaign, now];\r\n            this.firstVisit = this.firstVisit || this.currentVisit;\r\n\r\n            if (utm.isPaidChannel(utmParams.medium)) {\r\n                this.lastPaidVisit = this.currentVisit;\r\n            }\r\n\r\n            this.content = [this.firstVisit, this.lastPaidVisit, this.currentVisit];\r\n        }\r\n    };\r\n\r\n    try {\r\n        var rawValue = cookies.read(name);\r\n\r\n        if (!rawValue) {\r\n            return cookie;\r\n        }\r\n\r\n        var date = new Date(+rawValue.substring(0, 13));\r\n\r\n        if (!isValidDate(date)) {\r\n            return cookie;\r\n        }\r\n\r\n        cookie.date = date;\r\n\r\n        var content = rawValue\r\n            .substring(13)\r\n            .split('#')\r\n            .map(function (part) {\r\n                if (!part){\r\n                    return null;\r\n                }\r\n\r\n                var parts = part.split(',');\r\n                parts[3] = parts[3] && parseInt(parts[3], 10);\r\n                return parts;\r\n            });\r\n\r\n        if (!content || content.length !== 3) {\r\n            content = [];\r\n        }\r\n\r\n        cookie.firstVisit = content[0];\r\n        cookie.lastPaidVisit = content[1];\r\n        cookie.currentVisit = content[2];\r\n\r\n        cookie.content = content;\r\n\r\n        return cookie;\r\n\r\n    } catch(ex) {\r\n        return cookie;\r\n    }\r\n}\r\n\r\nfunction writeCookie(cookie) {\r\n    var now = +new Date();\r\n    var domain = '.' + location.hostname.split('.').slice(-2).join('.');\r\n\r\n    var formattedValue = now + '' + cookie.content.slice(0,3).join('#');\r\n    var options = {\r\n        expires: cAge * 24 * 60 * 60,\r\n        path: '/',\r\n        domain: location.hostname.indexOf('localhost') >= 0 ? '' : domain\r\n    };\r\n\r\n    cookies.set(cookie.name, formattedValue, options);\r\n}\r\n\r\nmodule.exports = {\r\n    read: readCookie,\r\n    write: writeCookie\r\n};","var gtm = require('../googletagmanager');\r\nvar cookieHandler = require('./cookie');\r\n\r\nfunction updateCampaignCookie() {\r\n    var cookiename = 'cmpatt';\r\n    var campaignCookie = cookieHandler.read(cookiename);\r\n    campaignCookie.updateCurrentVisit();\r\n    gtm.push(campaignCookie.getGtmData());\r\n    cookieHandler.write(campaignCookie);\r\n}\r\n\r\nmodule.exports = {\r\n    updateCampaignCookie: updateCampaignCookie\r\n};","var qs = require('querystring');\r\nvar indexOf = require('amp-index-of');\r\n\r\nmodule.exports = {\r\n    getParameters: function(locationSearch) {\r\n        var queryParams = qs.parse(locationSearch.replace('?', '')) || {};\r\n        var utm = {\r\n            medium: queryParams.gclid\r\n                ? 'gclid'\r\n                : (queryParams.utm_medium || ''),\r\n\r\n            source: queryParams.utm_source || '',\r\n\r\n            campaign: queryParams.utm_campaign || ''\r\n        };\r\n\r\n        if (!utm.medium) {\r\n            utm.medium = 'direct';\r\n            utm.source = 'direct';\r\n            utm.campaign = 'direct';\r\n        }\r\n\r\n        return utm;\r\n    },\r\n\r\n    isPaidChannel: function(medium) {\r\n        var paidChannels = ['aff', 'co', 'med', 'email', 'ret', 'cpc', 'print', 'gclid'];\r\n        return !!(medium && indexOf(paidChannels, medium) >= 0);\r\n    }\r\n};","var containerIdsByTld = {\r\n    'de': 'GTM-MK57H2',\r\n    'at': 'GTM-WBZ87G',\r\n    'be': 'GTM-5BWB2M',\r\n    'lu': 'GTM-NDBDCZ',\r\n    'es': 'GTM-PS6QHN',\r\n    'fr': 'GTM-PD93LD',\r\n    'it': 'GTM-WTCSNR',\r\n    'nl': 'GTM-TW48BJ',\r\n    'com': 'GTM-KWX9NX'\r\n};\r\n\r\nmodule.exports = function(hostname) {\r\n    var tld = hostname.split('.').pop();\r\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\r\n};","var dataLayer = window.dataLayer = window.dataLayer || [];\r\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\r\n\r\nmodule.exports = {\r\n    loadContainer: function(containerId) {\r\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\r\n        var alreadyInitiatedMainGtmContainerLoaded = document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\r\n\r\n        if (alreadyInitiatedMainGtmContainerLoaded) {\r\n            // preventing duplicated load of main GTM container\r\n            return;\r\n        }\r\n\r\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\r\n\r\n        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\r\n            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\r\n            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\r\n            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\r\n        })(window,document,'script','dataLayer',containerId);\r\n    },\r\n\r\n    push: function() {\r\n        if (!arguments.length) {\r\n            return;\r\n        }\r\n\r\n        var args = [].slice.call(arguments);\r\n\r\n        args.map(function(data) {\r\n            for (var key in data) {\r\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\r\n                    data[key] = toLower(data[key]);\r\n                }\r\n            }\r\n\r\n            return data;\r\n        });\r\n\r\n        dataLayer.push.apply(dataLayer, args);\r\n    }\r\n};\r\n\r\nfunction toLower(val) {\r\n    return val && ('' + val).toLowerCase();\r\n}\r\n","var merge = require('amp-merge');\r\n\r\nvar gtm = require('./googletagmanager');\r\nvar containerId = require('./getGtmContainerId')(location.hostname);\r\nvar viewport = require('./viewport');\r\n\r\nvar pagename;\r\n\r\nfunction setPagename(pn) {\r\n    pagename = pn;\r\n}\r\n\r\nfunction generateCommonParams(data) {\r\n    var mergedPagename = merge({}, pagename, data);\r\n\r\n    if (!mergedPagename || !mergedPagename.country || !mergedPagename.market || !mergedPagename.category || !mergedPagename.pageid || !mergedPagename.environment) {\r\n        if (mergedPagename.environment !== \"test\" || mergedPagename.environment !== \"live\") {\r\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename))\r\n        }\r\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\r\n    }\r\n\r\n    var commonPageName = [mergedPagename.country, mergedPagename.market, mergedPagename.category, mergedPagename.group, mergedPagename.pageid]\r\n        .filter(function (x) {\r\n            return x;\r\n        })\r\n        .join('/');\r\n\r\n    if (mergedPagename.layer) {\r\n        commonPageName += '|' + mergedPagename.layer;\r\n    }\r\n\r\n    var commonData = {\r\n        common_country: mergedPagename.country,\r\n        common_market: mergedPagename.market,\r\n        common_category: mergedPagename.category,\r\n        common_pageid: mergedPagename.pageid,\r\n        common_pageName: commonPageName,\r\n        common_environment: mergedPagename.environment,\r\n\r\n        common_language: mergedPagename.language || '',\r\n        common_group: mergedPagename.group || '',\r\n        common_layer: mergedPagename.layer || '',\r\n        common_attribute: mergedPagename.attribute || '',\r\n\r\n        common_linkgroup: mergedPagename.linkgroup || '',\r\n        common_linkid: mergedPagename.linkid || '',\r\n\r\n        common_techState: mergedPagename.techState || ''\r\n    };\r\n\r\n    return commonData;\r\n}\r\n\r\nfunction trackClick(params) {\r\n    if (params.eventcategory && params.eventaction) {\r\n        gtm.push({\r\n            event: 'event_trigger',\r\n            event_category: params.eventcategory,\r\n            event_action: params.eventaction,\r\n            event_label: params.eventlabel || '',\r\n            event_non_interaction: false\r\n        });\r\n    } else {\r\n        //DEPRECATED\r\n        gtm.push(generateCommonParams(params));\r\n        gtm.push({\r\n            event: 'click'\r\n        });\r\n    }\r\n}\r\n\r\nvar firstPageview = true;\r\n\r\nfunction trackPageview(data) {\r\n    if (firstPageview) {\r\n        gtm.push(viewport);\r\n    }\r\n\r\n    gtm.push(generateCommonParams(data));\r\n\r\n    setTimeout(function () {\r\n        if (firstPageview) {\r\n            gtm.loadContainer(containerId);\r\n            require('./campaign').updateCampaignCookie();\r\n            gtm.push({\r\n                event: 'common_data_ready'\r\n            });\r\n            gtm.push({\r\n                event: 'data_ready'\r\n            });\r\n            firstPageview = false;\r\n        } else {\r\n            gtm.push({\r\n                event: 'pageview'\r\n            });\r\n        }\r\n    }, 10);\r\n}\r\n\r\nmodule.exports = {\r\n    setPagename: setPagename,\r\n    trackClick: trackClick,\r\n\r\n    set: gtm.push,\r\n    pageview: trackPageview,\r\n    click: trackClick\r\n};","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\r\n\r\nmodule.exports = {\r\n    session_viewport: viewportWidth >= 994 ? 'l' : (viewportWidth >= 768 ? 'm' : (viewportWidth >= 480 ? 's': 'xs'))\r\n};","if (location.hash.indexOf('tracking-off=true') < 0) {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        } else if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut\n    };\n}","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice.call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    }\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}","const ctor = document.createElement('as24-tracking').constructor;\nif (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n    require('showcar-tracking');\n}\n"],"sourceRoot":""}